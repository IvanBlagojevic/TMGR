SET FOREIGN_KEY_CHECKS = 0;
ALTER TABLE `TM_PROJECT` DROP INDEX `NAME`;
ALTER TABLE `TM_PROJECT` DROP INDEX `SHORT_CODE`;
ALTER TABLE `TM_PROJECT_LANGUAGE` DROP INDEX `FK7CB41EE4938FD699`;
ALTER TABLE `TM_PROJECT_LANGUAGE` DROP INDEX `PROJECT_ID`;
ALTER TABLE `TM_PROJECT_LANGUAGE` DROP FOREIGN KEY `FK7CB41EE4938FD699`;
ALTER TABLE `TM_PROJECT_LANGUAGE` DROP COLUMN `DEFAULT_WORKFLOW_DEFINITION_ID`;
ALTER TABLE `TM_TERM` DROP INDEX `FKE4528E72907175A7`;
ALTER TABLE `TM_TERM` DROP INDEX `MARKER_ID`;
ALTER TABLE `TM_TERM` DROP FOREIGN KEY `FKE4528E72907175A7`;
ALTER TABLE `TM_USER_PROFILE` ADD COLUMN `DATE_PASSWORD_CHANGED`  datetime NULL DEFAULT NULL AFTER `DATE_LAST_LOGIN`;
ALTER TABLE `TM_USER_PROFILE` ADD COLUMN `ACCOUNT_NON_LOCKED`  bit(1) NULL DEFAULT NULL AFTER `ACCOUNT_NON_EXPIRED`;
ALTER TABLE `TM_USER_PROFILE` ADD COLUMN `GENERIC`  bit(1) NOT NULL AFTER `USER_TYPE`;
ALTER TABLE `TM_USER_PROFILE` ADD COLUMN `GENERIC_PASSWORD`  varchar(255) NULL DEFAULT NULL AFTER `GENERIC`;
ALTER TABLE `TM_USER_PROFILE` ADD COLUMN `ACTION_SIZE`  varchar(255) NULL DEFAULT NULL AFTER `LAST_WEEKLY_REPORT`;
ALTER TABLE `TM_USER_PROFILE` ADD COLUMN `ACTION_TEXT_VISIBLE`  bit(1) NULL DEFAULT NULL AFTER `ACTION_SIZE`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `DATE_CREATED`  datetime NOT NULL AFTER `TERM_ID`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `DATE_MODIFIED`  datetime NOT NULL AFTER `DATE_CREATED`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `MARKER_ID`  varchar(40) NOT NULL AFTER `LANGUAGE_ID`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `PROJECT_ID`  bigint(20) NOT NULL AFTER `TERM_NAME`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `STATUS`  varchar(20) NOT NULL AFTER `PROJECT_ID`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `USER_PROFILE_CHANGED`  varchar(128) NOT NULL AFTER `STATUS`;
ALTER TABLE `TM_TERM` MODIFY COLUMN `TERMENTRY_ID`  bigint(20) NOT NULL AFTER `USER_LATEST_CHANGE`;
ALTER TABLE `TM_TERM` DROP COLUMN `DATE_COMPLETED`;
ALTER TABLE `TM_TERM` DROP COLUMN `WORKFLOW_ITEM_ID`;
ALTER TABLE `TM_TERM` DROP COLUMN `WORKFLOW_DEFINITION`;
ALTER TABLE `TM_USER_PROFILE` DROP INDEX `USERNAME`;
ALTER TABLE `TM_USER_PROFILE` MODIFY COLUMN `USER_ADDRESS`  varchar(50) NULL DEFAULT NULL AFTER `ACCOUNT_NON_LOCKED`;
ALTER TABLE `TM_USER_PROFILE` MODIFY COLUMN `USER_DEPARTMENT`  varchar(40) NULL DEFAULT NULL AFTER `DATE_PASSWORD_CHANGED`;
ALTER TABLE `TM_USER_PROFILE` MODIFY COLUMN `CHANGED_TERMS`  bit(1) NULL DEFAULT NULL AFTER `GENERIC_PASSWORD`;
ALTER TABLE `TM_USER_PROFILE` MODIFY COLUMN `DAILY_HOUR`  int(11) NULL DEFAULT NULL;
SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE `TM_JBPM_ACTION`;
DROP TABLE `TM_JBPM_BYTEARRAY`;
DROP TABLE `TM_JBPM_BYTEBLOCK`;
DROP TABLE `TM_JBPM_COMMENT`;
DROP TABLE `TM_JBPM_DECISIONCONDITIONS`;
DROP TABLE `TM_JBPM_DELEGATION`;
DROP TABLE `TM_JBPM_EVENT`;
DROP TABLE `TM_JBPM_EXCEPTIONHANDLER`;
DROP TABLE `TM_JBPM_JOB`;
DROP TABLE `TM_JBPM_LOG`;
DROP TABLE `TM_JBPM_MODULEDEFINITION`;
DROP TABLE `TM_JBPM_MODULEINSTANCE`;
DROP TABLE `TM_JBPM_NODE`;
DROP TABLE `TM_JBPM_POOLEDACTOR`;
DROP TABLE `TM_JBPM_PROCESSDEFINITION`;
DROP TABLE `TM_JBPM_PROCESSINSTANCE`;
DROP TABLE `TM_JBPM_RUNTIMEACTION`;
DROP TABLE `TM_JBPM_SWIMLANE`;
DROP TABLE `TM_JBPM_SWIMLANEINSTANCE`;
DROP TABLE `TM_JBPM_TASK`;
DROP TABLE `TM_JBPM_TASKACTORPOOL`;
DROP TABLE `TM_JBPM_TASKCONTROLLER`;
DROP TABLE `TM_JBPM_TASKINSTANCE`;
DROP TABLE `TM_JBPM_TOKEN`;
DROP TABLE `TM_JBPM_TOKENVARIABLEMAP`;
DROP TABLE `TM_JBPM_TRANSITION`;
DROP TABLE `TM_JBPM_VARIABLEACCESS`;
DROP TABLE `TM_JBPM_VARIABLEINSTANCE`;
DROP TABLE `TM_LANGUAGE_SET`;
DROP TABLE `TM_LANGUAGE_SET_LANGUAGES`;
DROP TABLE `TM_PHASE_CONFIG`;
DROP TABLE `TM_TERM_NOTIFICATION`;
DROP TABLE `TM_TERM_PHASE`;
DROP TABLE `TM_WORKFLOW_DEFINITION`;
DROP TABLE `TM_WORKFLOW_DEFINITION_RESOURCE_TRACK`;
UPDATE TM_TERM t SET t.TERM_NAME = 'N/A' WHERE t.TERM_NAME = '';
UPDATE TM_TERM_DESCRIPTION SET TM_TERM_DESCRIPTION.DESCRIPTION_VALUE = 'N/A' WHERE TM_TERM_DESCRIPTION.DESCRIPTION_VALUE='';
UPDATE TM_TERMENTRY_DESCRIPTION SET TM_TERMENTRY_DESCRIPTION.DESCRIPTION_VALUE = 'N/A' WHERE TM_TERMENTRY_DESCRIPTION.DESCRIPTION_VALUE='';
UPDATE TM_USER_PROFILE SET ACCOUNT_NON_LOCKED = 1;
DELETE FROM TM_USER_PROFILE_METADATA;
SET FOREIGN_KEY_CHECKS = 1;