SET FOREIGN_KEY_CHECKS=0;
ALTER TABLE TM_JBPM_VARIABLEACCESS DROP FOREIGN KEY FK_VARACC_PROCST;
ALTER TABLE TM_JBPM_VARIABLEACCESS DROP INDEX FK_VARACC_PROCST;
ALTER TABLE TM_JBPM_VARIABLEACCESS DROP FOREIGN KEY FK_VARACC_SCRIPT;
ALTER TABLE TM_JBPM_VARIABLEACCESS DROP INDEX FK_VARACC_SCRIPT;
ALTER TABLE TM_JBPM_VARIABLEACCESS DROP FOREIGN KEY FK_VARACC_TSKCTRL;
ALTER TABLE TM_JBPM_VARIABLEACCESS DROP INDEX FK_VARACC_TSKCTRL;
DELETE FROM TM_JBPM_VARIABLEACCESS;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_ACTION;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_ACTION;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_CHILDTOKEN;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_CHILDTOKEN;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_DESTNODE;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_DESTNODE;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_NEWBYTES;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_NEWBYTES;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_NODE;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_NODE;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_OLDBYTES;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_OLDBYTES;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_PARENT;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_PARENT;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_SOURCENODE;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_SOURCENODE;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_SWIMINST;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_SWIMINST;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_TASKINST;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_TASKINST;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_TOKEN;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_TOKEN;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_TRANSITION;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_TRANSITION;
ALTER TABLE TM_JBPM_LOG DROP FOREIGN KEY FK_LOG_VARINST;
ALTER TABLE TM_JBPM_LOG DROP INDEX FK_LOG_VARINST;
DELETE FROM TM_JBPM_LOG;
ALTER TABLE TM_JBPM_ACTION DROP FOREIGN KEY FK_ACTION_ACTNDEL;
ALTER TABLE TM_JBPM_ACTION DROP INDEX FK_ACTION_ACTNDEL;
ALTER TABLE TM_JBPM_ACTION DROP FOREIGN KEY FK_ACTION_EVENT;
ALTER TABLE TM_JBPM_ACTION DROP INDEX FK_ACTION_EVENT;
ALTER TABLE TM_JBPM_ACTION DROP FOREIGN KEY FK_ACTION_EXPTHDL;
ALTER TABLE TM_JBPM_ACTION DROP INDEX FK_ACTION_EXPTHDL;
ALTER TABLE TM_JBPM_ACTION DROP FOREIGN KEY FK_ACTION_PROCDEF;
ALTER TABLE TM_JBPM_ACTION DROP INDEX FK_ACTION_PROCDEF;
ALTER TABLE TM_JBPM_ACTION DROP FOREIGN KEY FK_ACTION_REFACT;
ALTER TABLE TM_JBPM_ACTION DROP INDEX FK_ACTION_REFACT;
ALTER TABLE TM_JBPM_ACTION DROP FOREIGN KEY FK_CRTETIMERACT_TA;
ALTER TABLE TM_JBPM_ACTION DROP INDEX FK_CRTETIMERACT_TA;
ALTER TABLE TM_JBPM_ACTION DROP INDEX IDX_ACTION_ACTNDL;
ALTER TABLE TM_JBPM_ACTION DROP INDEX IDX_ACTION_PROCDF;
ALTER TABLE TM_JBPM_ACTION DROP INDEX IDX_ACTION_EVENT;
DELETE FROM TM_JBPM_ACTION;
ALTER TABLE TM_JBPM_COMMENT DROP FOREIGN KEY FK_COMMENT_TOKEN;
ALTER TABLE TM_JBPM_COMMENT DROP INDEX FK_COMMENT_TOKEN;
ALTER TABLE TM_JBPM_COMMENT DROP FOREIGN KEY FK_COMMENT_TSK;
ALTER TABLE TM_JBPM_COMMENT DROP INDEX FK_COMMENT_TSK;
ALTER TABLE TM_JBPM_COMMENT DROP INDEX IDX_COMMENT_TSK;
ALTER TABLE TM_JBPM_COMMENT DROP INDEX IDX_COMMENT_TOKEN;
DELETE FROM TM_JBPM_COMMENT;
ALTER TABLE TM_JBPM_EVENT DROP FOREIGN KEY FK_EVENT_NODE;
ALTER TABLE TM_JBPM_EVENT DROP INDEX FK_EVENT_NODE;
ALTER TABLE TM_JBPM_EVENT DROP FOREIGN KEY FK_EVENT_PROCDEF;
ALTER TABLE TM_JBPM_EVENT DROP INDEX FK_EVENT_PROCDEF;
ALTER TABLE TM_JBPM_EVENT DROP FOREIGN KEY FK_EVENT_TASK;
ALTER TABLE TM_JBPM_EVENT DROP INDEX FK_EVENT_TASK;
ALTER TABLE TM_JBPM_EVENT DROP FOREIGN KEY FK_EVENT_TRANS;
ALTER TABLE TM_JBPM_EVENT DROP INDEX FK_EVENT_TRANS;
DELETE FROM TM_JBPM_EVENT;
ALTER TABLE TM_JBPM_TASKACTORPOOL DROP FOREIGN KEY FK_TASKACTPL_TSKI;
ALTER TABLE TM_JBPM_TASKACTORPOOL DROP INDEX FK_TASKACTPL_TSKI;
ALTER TABLE TM_JBPM_TASKACTORPOOL DROP FOREIGN KEY FK_TSKACTPOL_PLACT;
ALTER TABLE TM_JBPM_TASKACTORPOOL DROP INDEX FK_TSKACTPOL_PLACT;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP FOREIGN KEY FK_TASKINST_SLINST;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX FK_TASKINST_SLINST;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP FOREIGN KEY FK_TASKINST_TASK;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX FK_TASKINST_TASK;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP FOREIGN KEY FK_TASKINST_TMINST;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX FK_TASKINST_TMINST;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP FOREIGN KEY FK_TASKINST_TOKEN;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX FK_TASKINST_TOKEN;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP FOREIGN KEY FK_TSKINS_PRCINS;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX FK_TSKINS_PRCINS;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX IDX_TSKINST_TMINST;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX IDX_TSKINST_SLINST;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX IDX_TASKINST_TOKN;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX IDX_TASK_ACTORID;
ALTER TABLE TM_JBPM_TASKINSTANCE DROP INDEX IDX_TASKINST_TSK;
DELETE FROM TM_JBPM_TASKINSTANCE;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TASK_ASSDEL;
ALTER TABLE TM_JBPM_TASK DROP INDEX FK_TASK_ASSDEL;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TASK_PROCDEF;
ALTER TABLE TM_JBPM_TASK DROP INDEX FK_TASK_PROCDEF;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TASK_STARTST;
ALTER TABLE TM_JBPM_TASK DROP INDEX FK_TASK_STARTST;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TASK_SWIMLANE;
ALTER TABLE TM_JBPM_TASK DROP INDEX FK_TASK_SWIMLANE;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TASK_TASKMGTDEF;
ALTER TABLE TM_JBPM_TASK DROP INDEX FK_TASK_TASKMGTDEF;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TASK_TASKNODE;
ALTER TABLE TM_JBPM_TASK DROP INDEX FK_TASK_TASKNODE;
ALTER TABLE TM_JBPM_TASK DROP FOREIGN KEY FK_TSK_TSKCTRL;
ALTER TABLE TM_JBPM_TASK DROP INDEX IDX_TASK_PROCDEF;
ALTER TABLE TM_JBPM_TASK DROP INDEX IDX_TASK_TSKNODE;
ALTER TABLE TM_JBPM_TASK DROP INDEX IDX_TASK_TASKMGTDF;
DELETE FROM TM_JBPM_TASK;
ALTER TABLE TM_JBPM_POOLEDACTOR DROP FOREIGN KEY FK_POOLEDACTOR_SLI;
ALTER TABLE TM_JBPM_POOLEDACTOR DROP INDEX IDX_TSKINST_SWLANE;
ALTER TABLE TM_JBPM_POOLEDACTOR DROP INDEX IDX_PLDACTR_ACTID;
DELETE FROM TM_JBPM_POOLEDACTOR;
ALTER TABLE TM_JBPM_SWIMLANEINSTANCE DROP FOREIGN KEY FK_SWIMLANEINST_SL;
ALTER TABLE TM_JBPM_SWIMLANEINSTANCE DROP INDEX FK_SWIMLANEINST_SL;
ALTER TABLE TM_JBPM_SWIMLANEINSTANCE DROP FOREIGN KEY FK_SWIMLANEINST_TM;
ALTER TABLE TM_JBPM_SWIMLANEINSTANCE DROP INDEX FK_SWIMLANEINST_TM;
ALTER TABLE TM_JBPM_SWIMLANEINSTANCE DROP INDEX IDX_SWIMLINST_SL;
DELETE FROM TM_JBPM_SWIMLANEINSTANCE;
ALTER TABLE TM_JBPM_SWIMLANE DROP FOREIGN KEY FK_SWL_ASSDEL;
ALTER TABLE TM_JBPM_SWIMLANE DROP INDEX FK_SWL_ASSDEL;
ALTER TABLE TM_JBPM_SWIMLANE DROP FOREIGN KEY FK_SWL_TSKMGMTDEF;
ALTER TABLE TM_JBPM_SWIMLANE DROP INDEX FK_SWL_TSKMGMTDEF;
DELETE FROM TM_JBPM_SWIMLANE;
ALTER TABLE TM_JBPM_DELEGATION DROP FOREIGN KEY FK_DELEGATION_PRCD;
ALTER TABLE TM_JBPM_DELEGATION DROP INDEX FK_DELEGATION_PRCD;
ALTER TABLE TM_JBPM_DELEGATION DROP INDEX IDX_DELEG_PRCD;
DELETE FROM TM_JBPM_DELEGATION;
DELETE FROM TM_JBPM_EXCEPTIONHANDLER; 
ALTER TABLE TM_JBPM_JOB DROP FOREIGN KEY FK_JOB_ACTION;
ALTER TABLE TM_JBPM_JOB DROP INDEX FK_JOB_ACTION;
ALTER TABLE TM_JBPM_JOB DROP FOREIGN KEY FK_JOB_NODE;
ALTER TABLE TM_JBPM_JOB DROP INDEX FK_JOB_NODE;
ALTER TABLE TM_JBPM_JOB DROP FOREIGN KEY FK_JOB_PRINST;
ALTER TABLE TM_JBPM_JOB DROP INDEX FK_JOB_PRINST;
ALTER TABLE TM_JBPM_JOB DROP FOREIGN KEY FK_JOB_TOKEN;
ALTER TABLE TM_JBPM_JOB DROP INDEX FK_JOB_TOKEN;
ALTER TABLE TM_JBPM_JOB DROP FOREIGN KEY FK_JOB_TSKINST;
ALTER TABLE TM_JBPM_JOB DROP INDEX FK_JOB_TSKINST;
ALTER TABLE TM_JBPM_JOB DROP INDEX IDX_JOB_TSKINST;
ALTER TABLE TM_JBPM_JOB DROP INDEX IDX_JOB_TOKEN;
ALTER TABLE TM_JBPM_JOB DROP INDEX IDX_JOB_PRINST;
DELETE FROM TM_JBPM_JOB;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP FOREIGN KEY FK_BYTEINST_ARRAY;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX FK_BYTEINST_ARRAY;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP FOREIGN KEY FK_VARINST_PRCINST;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX FK_VARINST_PRCINST;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP FOREIGN KEY FK_VARINST_TK;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX FK_VARINST_TK;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP FOREIGN KEY FK_VARINST_TKVARMP;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX FK_VARINST_TKVARMP;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP FOREIGN KEY FK_VAR_TSKINST;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX FK_VAR_TSKINST;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX IDX_VARINST_TK;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX IDX_VARINST_TKVARMP;
ALTER TABLE TM_JBPM_VARIABLEINSTANCE DROP INDEX IDX_VARINST_PRCINS;
DELETE FROM TM_JBPM_VARIABLEINSTANCE;
ALTER TABLE TM_JBPM_TOKENVARIABLEMAP DROP FOREIGN KEY FK_TKVARMAP_CTXT;
ALTER TABLE TM_JBPM_TOKENVARIABLEMAP DROP INDEX FK_TKVARMAP_CTXT;
ALTER TABLE TM_JBPM_TOKENVARIABLEMAP DROP FOREIGN KEY FK_TKVARMAP_TOKEN;
ALTER TABLE TM_JBPM_TOKENVARIABLEMAP DROP INDEX FK_TKVARMAP_TOKEN;
ALTER TABLE TM_JBPM_TOKENVARIABLEMAP DROP INDEX IDX_TKVVARMP_TOKEN;
ALTER TABLE TM_JBPM_TOKENVARIABLEMAP DROP INDEX IDX_TKVARMAP_CTXT;
DELETE FROM TM_JBPM_TOKENVARIABLEMAP;
ALTER TABLE TM_JBPM_MODULEINSTANCE DROP FOREIGN KEY FK_MODINST_PRCINST;
ALTER TABLE TM_JBPM_MODULEINSTANCE DROP INDEX FK_MODINST_PRCINST;
ALTER TABLE TM_JBPM_MODULEINSTANCE DROP FOREIGN KEY FK_TASKMGTINST_TMD;
ALTER TABLE TM_JBPM_MODULEINSTANCE DROP INDEX FK_TASKMGTINST_TMD;
ALTER TABLE TM_JBPM_MODULEINSTANCE DROP INDEX IDX_MODINST_PRINST;
DELETE FROM TM_JBPM_MODULEINSTANCE;
ALTER TABLE TM_JBPM_MODULEDEFINITION DROP FOREIGN KEY FK_MODDEF_PROCDEF;
ALTER TABLE TM_JBPM_MODULEDEFINITION DROP INDEX FK_MODDEF_PROCDEF;
ALTER TABLE TM_JBPM_MODULEDEFINITION DROP FOREIGN KEY FK_TSKDEF_START;
ALTER TABLE TM_JBPM_MODULEDEFINITION DROP INDEX FK_TSKDEF_START;
ALTER TABLE TM_JBPM_MODULEDEFINITION DROP INDEX IDX_MODDEF_PROCDF;
DELETE FROM TM_JBPM_MODULEDEFINITION;
ALTER TABLE TM_JBPM_TRANSITION DROP FOREIGN KEY FK_TRANSITION_FROM;
ALTER TABLE TM_JBPM_TRANSITION DROP INDEX FK_TRANSITION_FROM;
ALTER TABLE TM_JBPM_TRANSITION DROP FOREIGN KEY FK_TRANSITION_TO;
ALTER TABLE TM_JBPM_TRANSITION DROP INDEX FK_TRANSITION_TO;
ALTER TABLE TM_JBPM_TRANSITION DROP FOREIGN KEY FK_TRANS_PROCDEF;
ALTER TABLE TM_JBPM_TRANSITION DROP INDEX FK_TRANS_PROCDEF;
ALTER TABLE TM_JBPM_TRANSITION DROP INDEX IDX_TRANS_PROCDEF;
ALTER TABLE TM_JBPM_TRANSITION DROP INDEX IDX_TRANSIT_FROM;
ALTER TABLE TM_JBPM_TRANSITION DROP INDEX IDX_TRANSIT_TO;
DELETE FROM TM_JBPM_TRANSITION;
ALTER TABLE TM_JBPM_TOKEN DROP FOREIGN KEY FK_TOKEN_PROCINST;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP FOREIGN KEY FK_PROCIN_PROCDEF;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP INDEX FK_PROCIN_PROCDEF;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP FOREIGN KEY FK_PROCIN_ROOTTKN;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP INDEX FK_PROCIN_ROOTTKN;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP FOREIGN KEY FK_PROCIN_SPROCTKN;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP INDEX FK_PROCIN_SPROCTKN;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP INDEX IDX_PROCIN_ROOTTK;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP INDEX IDX_PROCIN_PROCDEF;
ALTER TABLE TM_JBPM_PROCESSINSTANCE DROP INDEX IDX_PROCIN_KEY;
DELETE FROM TM_JBPM_PROCESSINSTANCE;
ALTER TABLE TM_JBPM_NODE DROP FOREIGN KEY FK_NODE_PROCDEF;
ALTER TABLE TM_JBPM_PROCESSDEFINITION DROP FOREIGN KEY FK_PROCDEF_STRTSTA;
ALTER TABLE TM_JBPM_PROCESSDEFINITION DROP INDEX FK_PROCDEF_STRTSTA;
ALTER TABLE TM_JBPM_PROCESSDEFINITION DROP INDEX IDX_PROCDEF_STRTST;
DELETE FROM TM_JBPM_PROCESSDEFINITION;
ALTER TABLE TM_JBPM_TOKEN DROP FOREIGN KEY FK_TOKEN_SUBPI;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX FK_TOKEN_SUBPI;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX FK_TOKEN_PROCINST;
ALTER TABLE TM_JBPM_TOKEN DROP FOREIGN KEY FK_TOKEN_PARENT;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX FK_TOKEN_PARENT;
ALTER TABLE TM_JBPM_TOKEN DROP FOREIGN KEY FK_TOKEN_NODE;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX FK_TOKEN_NODE;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX IDX_TOKEN_PARENT;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX IDX_TOKEN_PROCIN;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX IDX_TOKEN_NODE;
ALTER TABLE TM_JBPM_TOKEN DROP INDEX IDX_TOKEN_SUBPI;
DELETE FROM TM_JBPM_TOKEN;
ALTER TABLE TM_JBPM_NODE DROP FOREIGN KEY FK_DECISION_DELEG;
ALTER TABLE TM_JBPM_NODE DROP INDEX FK_DECISION_DELEG;
ALTER TABLE TM_JBPM_NODE DROP FOREIGN KEY FK_NODE_ACTION;
ALTER TABLE TM_JBPM_NODE DROP INDEX FK_NODE_ACTION;
ALTER TABLE TM_JBPM_NODE DROP INDEX FK_NODE_PROCDEF;
ALTER TABLE TM_JBPM_NODE DROP FOREIGN KEY FK_NODE_SCRIPT;
ALTER TABLE TM_JBPM_NODE DROP INDEX FK_NODE_SCRIPT;
ALTER TABLE TM_JBPM_NODE DROP FOREIGN KEY FK_NODE_SUPERSTATE;
ALTER TABLE TM_JBPM_NODE DROP INDEX FK_NODE_SUPERSTATE;
ALTER TABLE TM_JBPM_NODE DROP FOREIGN KEY FK_PROCST_SBPRCDEF;
ALTER TABLE TM_JBPM_NODE DROP INDEX FK_PROCST_SBPRCDEF;
ALTER TABLE TM_JBPM_NODE DROP INDEX IDX_PSTATE_SBPRCDEF;
ALTER TABLE TM_JBPM_NODE DROP INDEX IDX_NODE_PROCDEF;
ALTER TABLE TM_JBPM_NODE DROP INDEX IDX_NODE_ACTION;
ALTER TABLE TM_JBPM_NODE DROP INDEX IDX_NODE_SUPRSTATE;
DELETE FROM TM_JBPM_NODE;
ALTER TABLE TM_JBPM_TASKCONTROLLER DROP FOREIGN KEY FK_TSKCTRL_DELEG;
ALTER TABLE TM_JBPM_TASKCONTROLLER DROP INDEX FK_TSKCTRL_DELEG;
DELETE FROM TM_JBPM_TASKCONTROLLER;
DELETE FROM TM_JBPM_TASKACTORPOOL;
CREATE TABLE TM_LANGUAGE_SET (LANGUAGE_SET_ID bigint(20) NOT NULL AUTO_INCREMENT, LANGUAGE_SET_NAME varchar(40) NULL DEFAULT NULL, PRIMARY KEY (LANGUAGE_SET_ID)) ENGINE=InnoDB ROW_FORMAT=Compact;
CREATE TABLE TM_LANGUAGE_SET_LANGUAGES (LANGUAGE_SET_ID bigint(20) NOT NULL, LANGUAGE_ID varchar(255) NULL DEFAULT NULL, CONSTRAINT FKB78AF01D13B6CFC5 FOREIGN KEY (LANGUAGE_SET_ID) REFERENCES TM_LANGUAGE_SET (LANGUAGE_SET_ID) ON DELETE RESTRICT ON UPDATE RESTRICT, INDEX FKB78AF01D13B6CFC5 (LANGUAGE_SET_ID) USING BTREE) ENGINE=InnoDB ROW_FORMAT=Compact;
ALTER TABLE TM_ORGANIZATION DROP FOREIGN KEY FKBEB7C139C09CA188;
ALTER TABLE TM_ORGANIZATION DROP INDEX FKBEB7C139C09CA188;
ALTER TABLE TM_ORGANIZATION DROP INDEX NAME;
ALTER TABLE TM_ORGANIZATION MODIFY COLUMN CURRENCY_CODE varchar(3) NULL DEFAULT NULL AFTER ORGANIZATION_ID;
ALTER TABLE TM_ORGANIZATION MODIFY COLUMN DOMAIN varchar(255) NULL DEFAULT NULL AFTER CURRENCY_CODE;
ALTER TABLE TM_ORGANIZATION MODIFY COLUMN ENABLED bit(1) NULL DEFAULT NULL AFTER DOMAIN;
ALTER TABLE TM_ORGANIZATION MODIFY COLUMN NAME varchar(50) NOT NULL AFTER ENABLED;
ALTER TABLE TM_ORGANIZATION MODIFY COLUMN THEME varchar(255) NULL DEFAULT NULL AFTER NAME;
ALTER TABLE TM_ORGANIZATION MODIFY COLUMN ORGANIZATION_PARENT_ID bigint(20) NULL DEFAULT NULL AFTER THEME;
ALTER TABLE TM_ORGANIZATION DROP COLUMN CLASS;
CREATE INDEX FKBEB7C139529CA094 ON TM_ORGANIZATION(ORGANIZATION_PARENT_ID) USING BTREE ;
ALTER TABLE TM_ORGANIZATION ADD CONSTRAINT FKBEB7C139529CA094 FOREIGN KEY (ORGANIZATION_PARENT_ID) REFERENCES TM_ORGANIZATION (ORGANIZATION_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_PHASE_CONFIG DROP FOREIGN KEY FK66F322AC119C7CCB;
ALTER TABLE TM_PHASE_CONFIG DROP INDEX FK66F322AC119C7CCB;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN CONFIGURE_BUDGET bit(1) NULL DEFAULT NULL AFTER PHASE_CONFIG_ID;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN CONFIGURE_QUOTE bit(1) NULL DEFAULT NULL AFTER CONFIGURE_BUDGET;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN LINE_ITEM_10 varchar(100) NULL DEFAULT NULL AFTER LINE_ITEM_1;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN LINE_ITEM_2 varchar(100) NULL DEFAULT NULL AFTER LINE_ITEM_10;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN PHASE_DURATION int(11) NULL DEFAULT NULL AFTER LINE_ITEM_9;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN PHASE_NAME varchar(256) NULL DEFAULT NULL AFTER PHASE_DURATION;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN ROLE_1 varchar(30) NULL DEFAULT NULL AFTER PHASE_NAME;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN SHOW_DISCOUNT bit(1) NULL DEFAULT NULL AFTER ROLE_5;
ALTER TABLE TM_PHASE_CONFIG MODIFY COLUMN WORKFLOW_DEFINITION_ID bigint(20) NULL DEFAULT NULL AFTER SHOW_LEVERAGE_STATISTICS;
DELETE FROM TM_PHASE_CONFIG;
ALTER TABLE TM_ROLE_POLICY DROP FOREIGN KEY FKFB794855749B9DAD;
ALTER TABLE TM_ROLE_POLICY DROP FOREIGN KEY FKFB794855F07157ED;
ALTER TABLE TM_ROLE_POLICY DROP INDEX FKFB794855F07157ED;
ALTER TABLE TM_ROLE_POLICY DROP INDEX FKFB794855749B9DAD;
UPDATE TM_POLICY SET POLICY_TYPE = 0 WHERE CATEGORY = 'Task';
UPDATE TM_POLICY SET POLICY_TYPE = 1 WHERE CATEGORY <> 'Task';
INSERT IGNORE INTO TM_POLICY (POLICY_ID, CATEGORY, POLICY_TYPE) VALUES ('POLICY_TM_MENU_TERMS', 'Term',	1);
INSERT IGNORE INTO TM_POLICY (POLICY_ID, CATEGORY, POLICY_TYPE) VALUES ('POLICY_TM_TERM_ADD_APPROVED_TERM', 'Task', 0);
INSERT IGNORE INTO TM_POLICY (POLICY_ID, CATEGORY, POLICY_TYPE) VALUES ('POLICY_TM_TERM_ADD_PENDING_TERM', 'Task', 0);
INSERT IGNORE INTO TM_ROLE_POLICY (ROLE_ID, POLICY_ID) SELECT ROLE_ID, 'POLICY_TM_MENU_TERMS' FROM TM_ROLE_POLICY WHERE TM_ROLE_POLICY.POLICY_ID IN ('POLICY_TM_MENU_ACTIVE_TERMS_FOLDER', 'POLICY_TM_MENU_AVAILABLE_FOLDER', 'POLICY_TM_MENU_INBOX_FOLDER', 'POLICY_TM_MENU_SENT_FOLDER', 'POLICY_TM_MENU_ARCHIVE_FOLDER');
UPDATE TM_ROLE_POLICY SET POLICY_ID='POLICY_TM_TERM_ADD_PENDING_TERM' WHERE POLICY_ID='POLICY_TM_TERMENTRY_ADD';
UPDATE TM_POLICY SET POLICY_ID='POLICY_TM_TERM_DEMOTE_TERM_STATUS' WHERE POLICY_ID='POLICY_TM_TERM_REJECT';
UPDATE TM_ROLE_POLICY SET POLICY_ID='POLICY_TM_TERM_DEMOTE_TERM_STATUS' WHERE POLICY_ID='POLICY_TM_TERM_REJECT';
UPDATE TM_POLICY SET POLICY_ID='POLICY_TM_TERM_APPROVE_TERM_STATUS' WHERE POLICY_ID='POLICY_TM_TERM_PROOF';
UPDATE TM_ROLE_POLICY SET POLICY_ID='POLICY_TM_TERM_APPROVE_TERM_STATUS' WHERE POLICY_ID='POLICY_TM_TERM_PROOF';
UPDATE TM_ROLE SET ROLE_TYPE = 1 WHERE ROLE_TYPE = 'SYSTEM';
UPDATE TM_ROLE SET ROLE_TYPE = 0 WHERE ROLE_TYPE = 'CONTEXT';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_ACTIVE_TERMS_FOLDER';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_AVAILABLE_FOLDER';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_INBOX_FOLDER';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_SENT_FOLDER';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_ARCHIVE_FOLDER';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_WORKFLOWDEFINITION_ADD';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_WORKFLOWDEFINITION_EDIT';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_WORKFLOWDEFINITION_VIEW';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERMENTRY_EDIT';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_APPROVE';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_APPROVE';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_ACTIVE_TERMS_FOLDER';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_AVAILABLE_FOLDER';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_INBOX_FOLDER';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_SENT_FOLDER';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_MENU_ARCHIVE_FOLDER';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_WORKFLOWDEFINITION_ADD';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_WORKFLOWDEFINITION_EDIT';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_WORKFLOWDEFINITION_VIEW';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERMENTRY_EDIT';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERMENTRY_ADD';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_ADD_TRANSLATION_LANGUAGE';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_ADD_TRANSLATION_LANGUAGE';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_EXECUTEWORKFLOWTASKS';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_EXECUTEWORKFLOWTASKS';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_CANCEL_WORKFLOW';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_CANCEL_WORKFLOW';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_TRANSLATE';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_TRANSLATE';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_CLAIM';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_CLAIM';
DELETE FROM TM_ROLE_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_APPROVE';
DELETE FROM TM_POLICY WHERE POLICY_ID = 'POLICY_TM_TERM_APPROVE';
ALTER TABLE TM_POLICY DROP INDEX POLICY_ID;
ALTER TABLE TM_POLICY MODIFY COLUMN CATEGORY varchar(255) NULL DEFAULT NULL AFTER POLICY_ID;
ALTER TABLE TM_POLICY MODIFY COLUMN POLICY_TYPE int(11) NULL DEFAULT NULL AFTER CATEGORY;
ALTER TABLE TM_ROLE DROP INDEX ROLE_ID;
ALTER TABLE TM_ROLE MODIFY COLUMN GENERIC bit(1) NULL DEFAULT NULL AFTER ROLE_ID;
ALTER TABLE TM_ROLE MODIFY COLUMN ROLE_TYPE int(11) NOT NULL AFTER GENERIC;
CREATE INDEX roleroleID ON TM_ROLE_POLICY(ROLE_ID) USING BTREE ;
CREATE INDEX policypolicyId ON TM_ROLE_POLICY(POLICY_ID) USING BTREE;
ALTER TABLE TM_ROLE_POLICY ADD CONSTRAINT policypolicyId FOREIGN KEY (POLICY_ID) REFERENCES TM_POLICY (POLICY_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_ROLE_POLICY ADD CONSTRAINT roleroleID FOREIGN KEY (ROLE_ID) REFERENCES TM_ROLE (ROLE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_PROJECT MODIFY COLUMN CLIENT_IDENTIFIER varchar(255) NULL DEFAULT NULL AFTER PROJECT_ID;
ALTER TABLE TM_PROJECT MODIFY COLUMN NAME varchar(100) NOT NULL AFTER ENABLED;
ALTER TABLE TM_PROJECT ADD COLUMN ADD_APPROVED_TERMS bit(1) NOT NULL AFTER SHORT_CODE;
ALTER TABLE TM_PROJECT ADD COLUMN STATUS varchar(20) NULL DEFAULT NULL AFTER ADD_APPROVED_TERMS;
ALTER TABLE TM_PROJECT ADD COLUMN SEND_TO_DEFAULT_WORKFLOW bit(1) NOT NULL AFTER STATUS;
ALTER TABLE TM_PROJECT MODIFY COLUMN ORGANIZATION_ID bigint(20) NULL DEFAULT NULL ;
ALTER TABLE TM_PROJECT DROP COLUMN CLASS;
UPDATE TM_PROJECT SET ADD_APPROVED_TERMS=0;
UPDATE TM_PROJECT SET STATUS='WAITING';
UPDATE TM_PROJECT SET SEND_TO_DEFAULT_WORKFLOW=0;
UPDATE TM_PROJECT_ATTRIBUTE SET LEVEL = 0 WHERE LEVEL = 'TERMENTRY';
UPDATE TM_PROJECT_ATTRIBUTE SET LEVEL = 1 WHERE LEVEL = 'LANGUAGE';
UPDATE TM_PROJECT_ATTRIBUTE SET TYPE = 0 WHERE TYPE = 'TEXT';
ALTER TABLE TM_PROJECT_ATTRIBUTE MODIFY COLUMN LEVEL int(11) NULL DEFAULT NULL AFTER PROJECT_ID;
ALTER TABLE TM_PROJECT_ATTRIBUTE ADD COLUMN BASE_TYPE int(11) NOT NULL AFTER LEVEL;
ALTER TABLE TM_PROJECT_ATTRIBUTE MODIFY COLUMN COMBO_VALUES varchar(255) NULL DEFAULT NULL ;
ALTER TABLE TM_PROJECT_ATTRIBUTE MODIFY COLUMN ATTRIBUTE_NAME varchar(40) NOT NULL AFTER MULTIPLICITY;
ALTER TABLE TM_PROJECT_ATTRIBUTE ADD COLUMN SYNCHRONIZABLE bit(1) NULL DEFAULT NULL AFTER REQUIRED;
ALTER TABLE TM_PROJECT_ATTRIBUTE MODIFY COLUMN TYPE int(11) NULL DEFAULT NULL ;
UPDATE TM_PROJECT_ATTRIBUTE SET SYNCHRONIZABLE = 0;
UPDATE TM_PROJECT_ATTRIBUTE SET BASE_TYPE = 0;
ALTER TABLE TM_PROJECT_LANGUAGE DROP FOREIGN KEY FK7CB41EE4A2650C89;
ALTER TABLE TM_PROJECT_LANGUAGE DROP FOREIGN KEY FK7CB41EE4119C7CCB;
ALTER TABLE TM_PROJECT_LANGUAGE DROP INDEX FK7CB41EE4358E4F3E;
ALTER TABLE TM_PROJECT_LANGUAGE DROP INDEX FK7CB41EE4A2650C89;
ALTER TABLE TM_PROJECT_LANGUAGE DROP INDEX FK7CB41EE4119C7CCB;
ALTER TABLE TM_PROJECT_LANGUAGE ADD COLUMN IS_DEFAULT bit(1) NULL DEFAULT NULL AFTER PROJECT_LANG_ID;
ALTER TABLE TM_PROJECT_LANGUAGE MODIFY COLUMN LANGUAGE_ID varchar(10) NOT NULL ;
ALTER TABLE TM_PROJECT_LANGUAGE MODIFY COLUMN PROJECT_ID bigint(20) NOT NULL AFTER DEFAULT_WORKFLOW_DEFINITION_ID;
ALTER TABLE TM_PROJECT_LANGUAGE DROP COLUMN WORKFLOW_DEFINITION_ID;
ALTER TABLE TM_PROJECT_LANGUAGE DROP COLUMN IDX;
CREATE INDEX FK7CB41EE4938FD699 ON TM_PROJECT_LANGUAGE(DEFAULT_WORKFLOW_DEFINITION_ID) USING BTREE;
ALTER TABLE TM_PROJECT_LANGUAGE ADD CONSTRAINT FK7CB41EE4938FD699 FOREIGN KEY (DEFAULT_WORKFLOW_DEFINITION_ID) REFERENCES TM_WORKFLOW_DEFINITION (WORKFLOW_DEFINITION_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
UPDATE TM_PROJECT_LANGUAGE SET IS_DEFAULT=1;
UPDATE TM_PROJECT_LANGUAGE SET DEFAULT_WORKFLOW_DEFINITION_ID=NULL;
ALTER TABLE TM_PROJECT_METADATA DROP FOREIGN KEY FKC20F06BB43CD4ECF;
ALTER TABLE TM_PROJECT_METADATA DROP INDEX FKC20F06BB43CD4ECF;
ALTER TABLE TM_PROJECT_METADATA MODIFY COLUMN METAVALUE longtext NOT NULL AFTER METAKEY;
CREATE INDEX FKC20F06BBE3A5C25D ON TM_PROJECT_METADATA(PROJECT_ID) USING BTREE;
ALTER TABLE TM_PROJECT_METADATA ADD CONSTRAINT FKC20F06BBE3A5C25D FOREIGN KEY (PROJECT_ID) REFERENCES TM_PROJECT (PROJECT_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_PROJECT_USER_LANGUAGE DROP INDEX FK51D5A140358E4F3E;
ALTER TABLE TM_PROJECT_USER_LANGUAGE MODIFY COLUMN LANGUAGE_ID varchar(10) NOT NULL AFTER PROJECT_USER_LANGUAGE_ID;
ALTER TABLE TM_PROJECT_USER_LANGUAGE MODIFY COLUMN PROJECT_ID bigint(20) NOT NULL AFTER LANGUAGE_ID;
ALTER TABLE TM_PROJECT_USER_LANGUAGE MODIFY COLUMN USER_PROFILE_ID bigint(20) NOT NULL AFTER PROJECT_ID;
CREATE TABLE TM_STATISTICS (STATISTICS_ID bigint(20) NOT NULL AUTO_INCREMENT, ADDED_APPROVED_COUNT bigint(20) NOT NULL, ADDED_PENDING_COUNT bigint(20) NOT NULL, APPROVED_COUNT bigint(20) NOT NULL, DELETED_COUNT bigint(20) NOT NULL, DEMOTED_COUNT bigint(20) NOT NULL, REPORT_TYPE varchar(10) NOT NULL, UPDATED_COUNT bigint(20) NOT NULL, PROJECT_USER_LANGUAGE_ID bigint(20) NOT NULL, PRIMARY KEY (STATISTICS_ID), CONSTRAINT FKEB91D2A91398304C FOREIGN KEY (PROJECT_USER_LANGUAGE_ID) REFERENCES TM_PROJECT_USER_LANGUAGE (PROJECT_USER_LANGUAGE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT, INDEX FKEB91D2A91398304C (PROJECT_USER_LANGUAGE_ID) USING BTREE) ENGINE=InnoDB ROW_FORMAT=Compact;
ALTER TABLE TM_TERM DROP FOREIGN KEY FKE4528E72CBB5ED03;
ALTER TABLE TM_TERM DROP FOREIGN KEY FKE4528E729F46AB97;
ALTER TABLE TM_TERM DROP INDEX IX_PROJECT_ID;
ALTER TABLE TM_TERM DROP INDEX IX_TERMENTRY_ID;
ALTER TABLE TM_TERM DROP INDEX IX_PROJECT_LANGUAGE;
ALTER TABLE TM_TERM DROP INDEX IX_PROJECT_LANGUAGE_DATE_CREATED;
ALTER TABLE TM_TERM DROP INDEX IX_LANGUAGE_ID;
ALTER TABLE TM_TERM DROP INDEX FKE4528E72CBB5ED03;
ALTER TABLE TM_TERM DROP INDEX FKE4528E729F46AB97;
ALTER TABLE TM_TERM MODIFY COLUMN DATE_COMPLETED datetime NULL DEFAULT NULL AFTER TERM_ID;
ALTER TABLE TM_TERM MODIFY COLUMN DATE_CREATED datetime NULL DEFAULT NULL AFTER DATE_COMPLETED;
ALTER TABLE TM_TERM MODIFY COLUMN STATUS varchar(20) NULL DEFAULT NULL AFTER DATE_CREATED;
ALTER TABLE TM_TERM MODIFY COLUMN WORKFLOW_ITEM_ID bigint(20) NULL DEFAULT NULL AFTER STATUS;
ALTER TABLE TM_TERM MODIFY COLUMN DATE_MODIFIED datetime NULL DEFAULT NULL AFTER WORKFLOW_ITEM_ID;
ALTER TABLE TM_TERM MODIFY COLUMN DISABLED bit(1) NOT NULL AFTER DATE_MODIFIED;
ALTER TABLE TM_TERM ADD COLUMN IS_FIRST bit(1) NOT NULL AFTER FORBIDDEN;
ALTER TABLE TM_TERM MODIFY COLUMN LANGUAGE_ID varchar(10) NOT NULL ;
ALTER TABLE TM_TERM MODIFY COLUMN MARKER_ID varchar(40) NULL DEFAULT NULL AFTER LANGUAGE_ID;
ALTER TABLE TM_TERM MODIFY COLUMN TERM_NAME longtext NULL AFTER MARKER_ID;
ALTER TABLE TM_TERM MODIFY COLUMN PROJECT_ID bigint(20) NULL DEFAULT NULL AFTER TERM_NAME;
ALTER TABLE TM_TERM ADD COLUMN USER_PROFILE_CHANGED varchar(128) NOT NULL AFTER PROJECT_ID;
ALTER TABLE TM_TERM ADD COLUMN USER_PROFILE_CREATED varchar(128) NOT NULL AFTER USER_PROFILE_CHANGED;
ALTER TABLE TM_TERM ADD COLUMN USER_LATEST_CHANGE bigint(20) NULL DEFAULT NULL AFTER USER_PROFILE_CREATED;
ALTER TABLE TM_TERM MODIFY COLUMN WORKFLOW_DEFINITION bigint(20) NULL DEFAULT NULL ;
ALTER TABLE TM_TERM MODIFY COLUMN TERMENTRY_ID bigint(20) NULL DEFAULT NULL AFTER WORKFLOW_DEFINITION;
UPDATE TM_USER_PROFILE INNER JOIN TM_TERMENTRY ON TM_USER_PROFILE.USER_PROFILE_ID = TM_TERMENTRY.USER_PROFILE_CREATED_ID INNER JOIN TM_TERMENTRY_LANGUAGE ON TM_TERMENTRY.TERMENTRY_ID = TM_TERMENTRY_LANGUAGE.TERMENTRY_ID INNER JOIN TM_TERM ON TM_TERMENTRY_LANGUAGE.TERMENTRY_LANGUAGE_ID = TM_TERM.TERMENTRY_LANGUAGE_ID SET TM_TERM.USER_PROFILE_CREATED = TM_USER_PROFILE.USERNAME;
UPDATE TM_USER_PROFILE INNER JOIN TM_TERMENTRY ON TM_USER_PROFILE.USER_PROFILE_ID = TM_TERMENTRY.USER_PROFILE_CHANGED_ID INNER JOIN TM_TERMENTRY_LANGUAGE ON TM_TERMENTRY.TERMENTRY_ID = TM_TERMENTRY_LANGUAGE.TERMENTRY_ID INNER JOIN TM_TERM ON TM_TERMENTRY_LANGUAGE.TERMENTRY_LANGUAGE_ID = TM_TERM.TERMENTRY_LANGUAGE_ID SET TM_TERM.USER_PROFILE_CHANGED = TM_USER_PROFILE.USERNAME;
UPDATE TM_TERM SET IS_FIRST=0;
UPDATE TM_TERM SET DATE_MODIFIED=DATE_CREATED WHERE DATE_MODIFIED IS NULL;
UPDATE TM_TERM SET STATUS='PROCESSED' WHERE STATUS IS NULL;
UPDATE TM_TERM SET STATUS='WAITING' WHERE STATUS <> 'PROCESSED';
UPDATE TM_TERM SET WORKFLOW_DEFINITION = NULL;
UPDATE TM_TERM SET WORKFLOW_ITEM_ID = NULL;
ALTER TABLE TM_TERM DROP COLUMN DATE_ESTIMATED;
ALTER TABLE TM_TERM DROP COLUMN DATE_DELIVERED;
ALTER TABLE TM_TERM DROP COLUMN DUE_DATE;
ALTER TABLE TM_TERM DROP COLUMN TERMENTRY_LANGUAGE_ID;
CREATE UNIQUE INDEX MARKER_ID ON TM_TERM(MARKER_ID) USING BTREE;
CREATE INDEX FKE4528E72BD8BDFD6 ON TM_TERM(TERMENTRY_ID) USING BTREE;
CREATE INDEX FKE4528E72907175A7 ON TM_TERM(WORKFLOW_DEFINITION) USING BTREE;
CREATE INDEX IX_USER_LATEST_CHANGE ON TM_TERM(USER_LATEST_CHANGE) USING BTREE;
ALTER TABLE TM_TERM ADD CONSTRAINT FKE4528E72907175A7 FOREIGN KEY (WORKFLOW_DEFINITION) REFERENCES TM_WORKFLOW_DEFINITION (WORKFLOW_DEFINITION_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_TERM ADD CONSTRAINT FKE4528E72BD8BDFD6 FOREIGN KEY (TERMENTRY_ID) REFERENCES TM_TERMENTRY (TERMENTRY_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_TERM_DESCRIPTION MODIFY COLUMN DESCRIPTION_MARKER varchar(40) NOT NULL AFTER DESCRIPTION_ID;
ALTER TABLE TM_TERM_DESCRIPTION MODIFY COLUMN DESCRIPTION_TYPE varchar(40) NOT NULL AFTER DESCRIPTION_MARKER;
ALTER TABLE TM_TERM_DESCRIPTION MODIFY COLUMN DESCRIPTION_VALUE longtext NOT NULL AFTER DESCRIPTION_TYPE;
ALTER TABLE TM_TERM_DESCRIPTION ADD COLUMN BASE_TYPE int(11) NOT NULL AFTER DESCRIPTION_VALUE;
ALTER TABLE TM_TERM_DESCRIPTION MODIFY COLUMN TERM_ID bigint(20) NULL DEFAULT NULL ;
ALTER TABLE TM_TERM_DESCRIPTION DROP COLUMN IDX;
UPDATE TM_TERM_DESCRIPTION SET BASE_TYPE=0;
ALTER TABLE TM_TERM_NOTIFICATION MODIFY COLUMN NOTIFICATION_CLASSIFIER varchar(255) NOT NULL AFTER NOTIFICATION_ID;
ALTER TABLE TM_TERM_NOTIFICATION MODIFY COLUMN NOTIFICATION_COMPOUND_TEXT longtext NOT NULL AFTER NOTIFICATION_CLASSIFIER;
ALTER TABLE TM_TERM_NOTIFICATION MODIFY COLUMN NOTIFICATION_DATE datetime NOT NULL AFTER NOTIFICATION_COMPOUND_TEXT;
ALTER TABLE TM_TERM_NOTIFICATION MODIFY COLUMN NOTIFICATION_TEXT longtext NOT NULL AFTER NOTIFICATION_DATE;
ALTER TABLE TM_TERM_NOTIFICATION MODIFY COLUMN TERM_ID bigint(20) NULL DEFAULT NULL AFTER NOTIFICATION_TEXT;
DELETE FROM TM_TERM_NOTIFICATION;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN DATE_COMPLETED datetime NULL DEFAULT NULL AFTER PHASE_ID;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN STATUS varchar(20) NULL DEFAULT NULL AFTER DATE_CREATED;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN COST float NULL DEFAULT NULL AFTER STATUS;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN DATE_ENDED datetime NULL DEFAULT NULL AFTER CURRENCY_CODE;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN DATE_STARTED datetime NULL DEFAULT NULL AFTER DATE_ENDED;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN DURATION bigint(20) NULL DEFAULT NULL AFTER DATE_STARTED;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN NAME varchar(40) NOT NULL AFTER DURATION;
ALTER TABLE TM_TERM_PHASE MODIFY COLUMN TERM_ID bigint(20) NULL DEFAULT NULL AFTER NAME;
ALTER TABLE TM_TERM_PHASE DROP COLUMN DUE_DATE;
ALTER TABLE TM_TERM_PHASE DROP COLUMN DATE_DELIVERED;
ALTER TABLE TM_TERM_PHASE DROP COLUMN DATE_ESTIMATED;
DELETE FROM TM_TERM_PHASE;
ALTER TABLE TM_TERMENTRY DROP FOREIGN KEY FK158FB92084CD58F1;
ALTER TABLE TM_TERMENTRY DROP FOREIGN KEY FK158FB920557C603D;
ALTER TABLE TM_TERMENTRY DROP INDEX FK158FB92084CD58F1;
ALTER TABLE TM_TERMENTRY DROP INDEX FK158FB920557C603D;
ALTER TABLE TM_TERMENTRY DROP COLUMN TERMENTRY_XML;
ALTER TABLE TM_TERMENTRY DROP COLUMN DATE_CREATED;
ALTER TABLE TM_TERMENTRY DROP COLUMN DATE_MODIFIED;
ALTER TABLE TM_TERMENTRY DROP COLUMN TIMESTAMP_MODIFIED;
ALTER TABLE TM_TERMENTRY DROP COLUMN LASTOPERATION;
ALTER TABLE TM_TERMENTRY DROP COLUMN USER_PROFILE_CHANGED_ID;
ALTER TABLE TM_TERMENTRY DROP COLUMN USER_PROFILE_CREATED_ID;
ALTER TABLE TM_TERMENTRY DROP COLUMN DATE_COMPLETED;
ALTER TABLE TM_TERMENTRY DROP COLUMN DATE_DELIVERED;
ALTER TABLE TM_TERMENTRY DROP COLUMN DATE_ESTIMATED;
ALTER TABLE TM_TERMENTRY DROP COLUMN DUE_DATE;
ALTER TABLE TM_TERMENTRY DROP COLUMN STATUS;
CREATE TABLE TM_TERMENTRY_AUDIT_METADATA (AUDIT_METADATA_ID bigint(20) NOT NULL AUTO_INCREMENT, AUDIT_DATE datetime NOT NULL, METAKEY varchar(64) NOT NULL, OLD_VALUE longtext NULL, AUDIT_USERNAME varchar(64) NOT NULL, VALUE longtext NULL, TERM_ID bigint(20) NULL DEFAULT NULL, PRIMARY KEY (AUDIT_METADATA_ID), CONSTRAINT FK7B194C32B368A8BE FOREIGN KEY (TERM_ID) REFERENCES TM_TERM (TERM_ID) ON DELETE RESTRICT ON UPDATE RESTRICT, INDEX FK7B194C32B368A8BE (TERM_ID) USING BTREE) ENGINE=InnoDB ROW_FORMAT=Compact;
SET FOREIGN_KEY_CHECKS=0;
INSERT IGNORE INTO TM_TERMENTRY_AUDIT_METADATA (AUDIT_METADATA_ID, AUDIT_DATE, METAKEY, OLD_VALUE, AUDIT_USERNAME, VALUE, TERM_ID) SELECT TM_AUDIT_METADATA.AUDIT_METADATA_ID, TM_AUDIT.AUDIT_DATE, TM_AUDIT_METADATA.METAKEY, TM_AUDIT_METADATA.OLD_VALUE, TM_AUDIT.AUDIT_USER_NAME, TM_AUDIT_METADATA.METAVALUE, TM_AUDIT.ENTITY_ID FROM TM_AUDIT INNER JOIN TM_AUDIT_METADATA ON TM_AUDIT.AUDIT_ID = TM_AUDIT_METADATA.AUDIT_ID;
ALTER TABLE TM_TERMENTRY_DESCRIPTION MODIFY COLUMN DESCRIPTION_MARKER varchar(40) NOT NULL AFTER DESCRIPTION_ID;
ALTER TABLE TM_TERMENTRY_DESCRIPTION MODIFY COLUMN DESCRIPTION_TYPE varchar(40) NOT NULL AFTER DESCRIPTION_MARKER;
ALTER TABLE TM_TERMENTRY_DESCRIPTION MODIFY COLUMN DESCRIPTION_VALUE longtext NOT NULL AFTER DESCRIPTION_TYPE;
ALTER TABLE TM_TERMENTRY_DESCRIPTION MODIFY COLUMN TERMENTRY_ID bigint(20) NULL DEFAULT NULL AFTER DESCRIPTION_VALUE;
ALTER TABLE TM_TERMENTRY_RESOURCE_TRACK MODIFY COLUMN CLASSIFIER varchar(40) NULL DEFAULT NULL AFTER RESOURCE_TRACK_ID;
ALTER TABLE TM_TERMENTRY_RESOURCE_TRACK MODIFY COLUMN RESOURCE_ID varchar(40) NULL DEFAULT NULL AFTER CLASSIFIER;
ALTER TABLE TM_TERMENTRY_RESOURCE_TRACK MODIFY COLUMN TASK_NAME varchar(40) NULL DEFAULT NULL AFTER RESOURCE_ID;
ALTER TABLE TM_TERMENTRY_RESOURCE_TRACK MODIFY COLUMN TRACK_TYPE varchar(40) NULL DEFAULT NULL AFTER TASK_NAME;
ALTER TABLE TM_TERMENTRY_RESOURCE_TRACK MODIFY COLUMN RESOURCE_NAME varchar(64) NULL DEFAULT NULL AFTER TRACK_TYPE;
CREATE TABLE TM_USER_DASHBOARD_PROJECT (USER_DAHSBOARD_PROJECT_ID bigint(20) NOT NULL AUTO_INCREMENT, DEFAULT_DAHSBOARD_PROJECT_ID bigint(20) NULL DEFAULT NULL, USER_PROFILE_ID bigint(20) NULL DEFAULT NULL, PRIMARY KEY (USER_DAHSBOARD_PROJECT_ID), CONSTRAINT FK403714035FBAD86 FOREIGN KEY (USER_PROFILE_ID) REFERENCES TM_USER_PROFILE (USER_PROFILE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT, INDEX FK403714035FBAD86 (USER_PROFILE_ID) USING BTREE) ENGINE=InnoDB ROW_FORMAT=Compact;
ALTER TABLE TM_USER_LANGUAGE DROP PRIMARY KEY;
ALTER TABLE TM_USER_LANGUAGE DROP FOREIGN KEY FKC14B7A06358E4F3E;
ALTER TABLE TM_USER_LANGUAGE DROP INDEX FKC14B7A06358E4F3E;
ALTER TABLE TM_USER_LANGUAGE DROP COLUMN IDX;
UPDATE TM_USER_NOTIFICATION_PROFILES SET NOTIFICATION_PRIORITY=2;
ALTER TABLE TM_USER_NOTIFICATION_PROFILES MODIFY COLUMN NOTIFICATION_PRIORITY int(11) NOT NULL AFTER NOTIFICATION_CLASSIFIER;
ALTER TABLE TM_USER_NOTIFICATION_PROFILES ADD COLUMN SEND_DAILY_MAIL bit(1) NOT NULL AFTER NOTIFICATION_PRIORITY;
ALTER TABLE TM_USER_NOTIFICATION_PROFILES ADD COLUMN SEND_WEEKLY_MAIL bit(1) NOT NULL AFTER SEND_DAILY_MAIL;
ALTER TABLE TM_USER_NOTIFICATION_PROFILES MODIFY COLUMN USER_IDX int(11) NOT NULL ;
ALTER TABLE TM_USER_NOTIFICATION_PROFILES DROP COLUMN SEND_MAIL;
UPDATE TM_USER_NOTIFICATION_PROFILES SET SEND_DAILY_MAIL=0;
UPDATE TM_USER_NOTIFICATION_PROFILES SET SEND_WEEKLY_MAIL=0;
UPDATE TM_USER_NOTIFICATION_PROFILES SET NOTIFICATION_CLASSIFIER='demoteTerm'WHERE NOTIFICATION_CLASSIFIER = 'editTerm';
UPDATE TM_USER_NOTIFICATION_PROFILES SET NOTIFICATION_CLASSIFIER='addedApprovedTerm'WHERE NOTIFICATION_CLASSIFIER = 'termReady';
UPDATE TM_USER_NOTIFICATION_PROFILES SET NOTIFICATION_CLASSIFIER='addedPendingTerm'WHERE NOTIFICATION_CLASSIFIER = 'termRejected';
UPDATE TM_USER_NOTIFICATION_PROFILES SET NOTIFICATION_CLASSIFIER='editTerm' WHERE NOTIFICATION_CLASSIFIER = 'termsImported';
UPDATE TM_USER_NOTIFICATION_PROFILES SET NOTIFICATION_CLASSIFIER='approveTerm' WHERE NOTIFICATION_CLASSIFIER = 'addEditTerm';
INSERT IGNORE INTO TM_USER_NOTIFICATION_PROFILES (USER_PROFILE_ID, DISPLAY_ON_DASHBOARD, NOTIFICATION_CLASSIFIER, NOTIFICATION_PRIORITY, SEND_DAILY_MAIL, SEND_WEEKLY_MAIL, USER_IDX) SELECT DISTINCT USER_PROFILE_ID, 0 AS DISPLAY_ON_DASHBOARD, 'deletedTerm' AS NOTIFICATION_CLASSIFIER, 2 AS NOTIFICATION_PRIORITY, 0 AS SEND_DAILY_MAIL, 0 AS SEND_WEEKLY_MAIL, 5 AS USER_IDX FROM TM_USER_NOTIFICATION_PROFILES;
UPDATE TM_USER_PROFILE SET USER_TYPE = 0;
ALTER TABLE TM_USER_PROFILE DROP FOREIGN KEY FKBD16911B435E33B6;
ALTER TABLE TM_USER_PROFILE DROP INDEX IDX_USER_PROFILE_PREFERENCES_ID;
ALTER TABLE TM_USER_PROFILE DROP INDEX FKBD16911B435E33B6;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN ACCOUNT_NON_EXPIRED bit(1) NULL DEFAULT NULL AFTER USER_PROFILE_ID;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN USER_ADDRESS varchar(50) NULL DEFAULT NULL AFTER ACCOUNT_NON_EXPIRED;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN CREDENTIALS_NON_EXPIRED bit(1) NULL DEFAULT NULL AFTER USER_ADDRESS;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN DATE_LAST_FAILED_LOGIN datetime NULL DEFAULT NULL AFTER CREDENTIALS_NON_EXPIRED;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN DATE_LAST_LOGIN datetime NULL DEFAULT NULL AFTER DATE_LAST_FAILED_LOGIN;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN USER_DEPARTMENT varchar(40) NULL DEFAULT NULL AFTER DATE_LAST_LOGIN;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN EMAIL_ADDRESS varchar(255) NULL DEFAULT NULL AFTER USER_DEPARTMENT;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN EMAIL_NOTIFICATION bit(1) NULL DEFAULT NULL AFTER EMAIL_ADDRESS;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN ENABLED bit(1) NULL DEFAULT NULL AFTER EMAIL_NOTIFICATION;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN USER_FAX varchar(25) NULL DEFAULT NULL AFTER ENABLED;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN FIRSTNAME varchar(50) NULL DEFAULT NULL AFTER USER_FAX;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN LASTNAME varchar(50) NULL DEFAULT NULL AFTER FIRSTNAME;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN PASSWORD varchar(128) NULL DEFAULT NULL AFTER LASTNAME;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN USER_PHONE1 varchar(25) NULL DEFAULT NULL AFTER PASSWORD;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN TIME_ZONE varchar(30) NULL DEFAULT NULL AFTER USER_PHONE2;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN UNSUCCESSFUL_AUTH_COUNT int(11) NULL DEFAULT 0 AFTER TIME_ZONE;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN USERNAME varchar(128) NOT NULL AFTER UNSUCCESSFUL_AUTH_COUNT;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN USER_TYPE int(11) NOT NULL AFTER USERNAME;
ALTER TABLE TM_USER_PROFILE ADD COLUMN CHANGED_TERMS bit(1) NULL DEFAULT NULL AFTER USER_TYPE;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN HIDDEN bit(1) NOT NULL ;
ALTER TABLE TM_USER_PROFILE ADD COLUMN LAST_DAILY_REPORT bigint(20) NULL DEFAULT NULL AFTER HIDDEN;
ALTER TABLE TM_USER_PROFILE ADD COLUMN LAST_WEEKLY_REPORT bigint(20) NULL DEFAULT NULL AFTER LAST_DAILY_REPORT;
ALTER TABLE TM_USER_PROFILE ADD COLUMN DAILY_HOUR int(11) NULL DEFAULT NULL AFTER LAST_WEEKLY_REPORT;
ALTER TABLE TM_USER_PROFILE ADD COLUMN DAY_OF_WEEK int(11) NULL DEFAULT NULL AFTER DAILY_HOUR;
ALTER TABLE TM_USER_PROFILE ADD COLUMN DEFAULT_PROJECT bigint(20) NULL DEFAULT NULL AFTER DAY_OF_WEEK;
ALTER TABLE TM_USER_PROFILE ADD COLUMN SOURCE_LANGUAGE varchar(10) NULL DEFAULT NULL AFTER DEFAULT_PROJECT;
ALTER TABLE TM_USER_PROFILE ADD COLUMN TARGET_LANGUAGE varchar(10) NULL DEFAULT NULL AFTER SOURCE_LANGUAGE;
ALTER TABLE TM_USER_PROFILE ADD COLUMN ITEMS_PER_PAGE int(11) NULL DEFAULT NULL AFTER TARGET_LANGUAGE;
ALTER TABLE TM_USER_PROFILE ADD COLUMN LANGUAGE varchar(10) NULL DEFAULT NULL AFTER ITEMS_PER_PAGE;
ALTER TABLE TM_USER_PROFILE ADD COLUMN REFRESH_PERIOD int(11) NULL DEFAULT NULL AFTER LANGUAGE;
ALTER TABLE TM_USER_PROFILE ADD COLUMN WEEKLY_HOUR int(11) NULL DEFAULT NULL AFTER REFRESH_PERIOD;
ALTER TABLE TM_USER_PROFILE MODIFY COLUMN ORGANIZATION_ID bigint(20) NULL DEFAULT NULL ;
UPDATE TM_USER_PROFILE SET TM_USER_PROFILE.DEFAULT_PROJECT = (SELECT TM_PREFERENCES.DEFAULT_PROJECT FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID), TM_USER_PROFILE.SOURCE_LANGUAGE = (SELECT TM_PREFERENCES.SOURCE_LANGUAGE FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID), TM_USER_PROFILE.TARGET_LANGUAGE = (SELECT TM_PREFERENCES.TARGET_LANGUAGE FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID), TM_USER_PROFILE.LANGUAGE = (SELECT TM_PREFERENCES.LANGUAGE FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID), TM_USER_PROFILE.ITEMS_PER_PAGE = (SELECT TM_PREFERENCES.ITEMS_PER_PAGE FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID), TM_USER_PROFILE.REFRESH_PERIOD = (SELECT TM_PREFERENCES.REFRESH_PERIOD FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID), TM_USER_PROFILE.TIME_ZONE = (SELECT TM_PREFERENCES.TIME_ZONE FROM TM_PREFERENCES WHERE TM_PREFERENCES.PREFERENCES_ID = TM_USER_PROFILE.PREFERENCES_ID);
UPDATE TM_USER_PROFILE SET TIME_ZONE = 'EST' WHERE TIME_ZONE IS NULL;
UPDATE TM_USER_PROFILE SET ITEMS_PER_PAGE = 50 WHERE ITEMS_PER_PAGE IS NULL;
ALTER TABLE TM_USER_PROFILE DROP COLUMN ACCOUNT_NON_LOCKED;
ALTER TABLE TM_USER_PROFILE DROP COLUMN PREFERENCES_ID;
ALTER TABLE TM_USER_PROFILE DROP COLUMN ORGANIZATION_IDX;
ALTER TABLE TM_USER_PROFILE_METADATA MODIFY COLUMN METAVALUE longtext NOT NULL AFTER METAKEY;
ALTER TABLE TM_USER_PROFILE_METADATA DROP COLUMN IDX;
ALTER TABLE TM_USER_PROFILE_METADATA DROP COLUMN userProfileId;
DELETE FROM TM_USER_PROFILE_METADATA;
ALTER TABLE TM_USER_PROJECT_ROLE DROP FOREIGN KEY FK91DDBDAAF07157ED;
ALTER TABLE TM_USER_PROJECT_ROLE DROP INDEX FK91DDBDAAF07157ED;
ALTER TABLE TM_USER_PROJECT_ROLE MODIFY COLUMN ROLE_ID varchar(50) NOT NULL AFTER PROJECT_ID;
ALTER TABLE TM_USER_PROJECT_ROLE MODIFY COLUMN USER_PROFILE_ID bigint(20) NOT NULL AFTER ROLE_ID;
CREATE INDEX FK91DDBDAAED7FFDFD ON TM_USER_PROJECT_ROLE(ROLE_ID) USING BTREE ;
ALTER TABLE TM_USER_PROJECT_ROLE ADD CONSTRAINT FK91DDBDAAED7FFDFD FOREIGN KEY (ROLE_ID) REFERENCES TM_ROLE (ROLE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_USER_ROLE DROP FOREIGN KEY FKB26BF624F07157ED;
ALTER TABLE TM_USER_ROLE DROP PRIMARY KEY;
ALTER TABLE TM_USER_ROLE ADD PRIMARY KEY (USER_PROFILE_ID, ROLE_ID);
CREATE INDEX FKB26BF624ED7FFDFD ON TM_USER_ROLE(ROLE_ID) USING BTREE ;
ALTER TABLE TM_USER_ROLE ADD CONSTRAINT FKB26BF624ED7FFDFD FOREIGN KEY (ROLE_ID) REFERENCES TM_ROLE (ROLE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE TM_USER_ROLE DROP INDEX FKB26BF624F07157ED;
SET FOREIGN_KEY_CHECKS=0;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP FOREIGN KEY FK55F9530DC84E411C;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP INDEX FK55F9530DC84E411C;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP INDEX WORKFLOW_DEFINITION_ID;
ALTER TABLE TM_WORKFLOW_DEFINITION MODIFY COLUMN DATE_COMPLETED datetime NULL DEFAULT NULL AFTER WORKFLOW_DEFINITION_ID;
ALTER TABLE TM_WORKFLOW_DEFINITION MODIFY COLUMN STATUS varchar(20) NULL DEFAULT NULL AFTER DATE_CREATED;
ALTER TABLE TM_WORKFLOW_DEFINITION MODIFY COLUMN DESCRIPTION varchar(255) NULL DEFAULT NULL AFTER STATUS;
ALTER TABLE TM_WORKFLOW_DEFINITION MODIFY COLUMN NAME varchar(255) NULL DEFAULT NULL AFTER ENABLED;
ALTER TABLE TM_WORKFLOW_DEFINITION MODIFY COLUMN TYPE varchar(20) NULL DEFAULT NULL AFTER NAME;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP COLUMN LAST_RESOURCE_TRACK;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP COLUMN DATE_DELIVERED;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP COLUMN DATE_ESTIMATED;
ALTER TABLE TM_WORKFLOW_DEFINITION DROP COLUMN DUE_DATE;
DELETE FROM TM_WORKFLOW_DEFINITION;
SET FOREIGN_KEY_CHECKS=0;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK DROP FOREIGN KEY FKB75F4D2C119C7CCB;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK DROP INDEX FKB75F4D2C119C7CCB;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK MODIFY COLUMN CLASSIFIER varchar(40) NULL DEFAULT NULL AFTER RESOURCE_TRACK_ID;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK MODIFY COLUMN RESOURCE_ID varchar(40) NULL DEFAULT NULL AFTER CLASSIFIER;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK MODIFY COLUMN TASK_NAME varchar(40) NULL DEFAULT NULL AFTER RESOURCE_ID;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK MODIFY COLUMN TRACK_TYPE varchar(40) NULL DEFAULT NULL AFTER TASK_NAME;
ALTER TABLE TM_WORKFLOW_DEFINITION_RESOURCE_TRACK MODIFY COLUMN WORKFLOW_DEFINITION_ID bigint(20) NULL DEFAULT NULL AFTER TRACK_TYPE;
DELETE FROM TM_WORKFLOW_DEFINITION_RESOURCE_TRACK;
SET FOREIGN_KEY_CHECKS=0;
ALTER TABLE TM_ANNOUNCEMENT DROP FOREIGN KEY FK81CB214D43CD4ECF;
DROP TABLE IF EXISTS TM_ANNOUNCEMENT;
ALTER TABLE TM_AUDIT_METADATA DROP FOREIGN KEY FKF592FDB95C1D8392;
DROP TABLE IF EXISTS TM_AUDIT_METADATA;
DROP TABLE IF EXISTS TM_AUDIT;
DROP TABLE IF EXISTS TM_LANGUAGE;
DROP TABLE IF EXISTS TM_PREFERENCES;
ALTER TABLE TM_PROJECT_NOTE DROP FOREIGN KEY FKB233E97EE3A5C25D;
DROP TABLE IF EXISTS TM_PROJECT_NOTE;
ALTER TABLE TM_TERM_COMMENT DROP FOREIGN KEY FK5E5F1D72B368A8BE;
ALTER TABLE TM_TERM_COMMENT DROP FOREIGN KEY FK5E5F1D72709E0656;
DROP TABLE IF EXISTS TM_TERM_COMMENT;
ALTER TABLE TM_TERM_NOTE DROP FOREIGN KEY FK16FE099FB368A8BE;
DROP TABLE IF EXISTS TM_TERM_NOTE;
ALTER TABLE TM_TERMENTRY_LANGUAGE DROP FOREIGN KEY FK2B1C3F97BD8BDFD6;
DROP TABLE IF EXISTS TM_TERMENTRY_LANGUAGE;
ALTER TABLE TM_TERMENTRY_LANGUAGE_DESCRIPTION DROP FOREIGN KEY FK43740B34CBB5ED03;
DROP TABLE IF EXISTS TM_TERMENTRY_LANGUAGE_DESCRIPTION;
ALTER TABLE TM_USER_PROJECT DROP FOREIGN KEY FKBD18528B35FBAD86;
ALTER TABLE TM_USER_PROJECT DROP FOREIGN KEY FKBD18528BE3A5C25D;
DROP TABLE IF EXISTS TM_USER_PROJECT;
SET FOREIGN_KEY_CHECKS=1;